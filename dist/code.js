!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=91)}({47:function(e,n){e.exports='{\n    "images" : [\n        {\n            "idiom" : "universal",\n            "filename" : "{0}"\n        },\n        {\n            "idiom" : "universal",\n            "filename" : "{1}",\n            "appearances" : [\n                {\n                    "appearance" : "luminosity",\n                    "value" : "dark"\n                }\n            ]\n        }\n    ],\n    "info" : {\n        "version" : 1,\n        "author" : "xcode"\n    },\n    "properties" : {\n        "preserves-vector-representation" : true\n    }\n}'},91:function(e,n,t){"use strict";t.r(n);var r=t(47),i=t.n(r),o=function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}l((r=r.apply(e,n||[])).next())}))};let a=figma.command,u=figma.currentPage.selection[0];const l=(e,...n)=>e.replace(/{(\d+)}/g,(e,t)=>n[t]||"");if("export-to-xcode"===a)if(u&&"FRAME"==u.type){let e=[];function s(n,t){let r=[...t];if("children"in n&&"INSTANCE"!==n.type){r.push(n.name);for(const e of n.children)s(e,r)}else{if(r[0]=r[0]+".xcassets",r[r.length-1].includes(".")){let e=r.pop().replace(/\./g,"");r.push(n.name+".imageset"),r.push(n.name+"-"+e+".pdf")}else r.push(n.name+".imageset"),r.push(n.name+".pdf");e.push({pathComponents:r,dir:r.reduce((e,n,t)=>t==r.length-1?e=e:e+=n+"/",""),file:r[r.length-1],layer:n})}}s(u,[]);let n=e.map((e,n,t)=>t.filter(n=>n.dir===e.dir)).reduce((e,n)=>e.findIndex(e=>e[0].dir==n[0].dir)<0?[...e,n]:e,[]).map(e=>({path:e[0].dir+"Contents.json",data:l(i.a,e[0].file,e[1]?e[1].file:"")}));Promise.all(e.map(e=>(function(e){return o(this,void 0,void 0,(function*(){return yield Promise.all([e].map(e=>o(this,void 0,void 0,(function*(){const n=e.layer,t=yield n.exportAsync({format:"PDF"});return{width:n.width,height:n.height,path:e.dir+e.file,data:t}}))))}))})(e))).then(e=>{figma.showUI(__html__,{width:256,height:140}),figma.ui.postMessage({type:"export-assets",outputName:u.name+".xcassets",exportAssets:e,exportContents:n})}).catch(e=>{console.log(e),figma.closePlugin("Error exporting layers.")})}else figma.closePlugin("Please select an frame to export.")}});